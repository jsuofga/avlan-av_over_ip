import{_ as c,c as i,d as s,t as r,F as h,e as u,u as m,o as d}from"./index-B2Dx3T8G.js";const p={name:"Zone",setup(){return{stateStore:m()}},async created(){this.zoneIndex=this.$route.params.index,this.stateStore.zoneNames.length||await this.stateStore.get_zoneNames(),this.stateStore.inputNames.length||await this.stateStore.get_inputNames();const t=location.hostname;try{const n=await(await fetch(`http://${t}:3000/read/UserTvNames`,{method:"GET"})).json();n&&Array.isArray(n)&&(this.tvList=n)}catch(e){console.error("Error loading TV data:",e)}},data(){return{zoneIndex:null,tvList:[]}},computed:{zoneName(){return this.zoneIndex==="all"?"ALL TVs":this.zoneIndex!==null&&this.zoneIndex!==void 0?this.stateStore.zoneNames[this.zoneIndex]||"Unknown Zone":""},filteredTvs(){if(this.zoneIndex==="all")return this.tvList;const t=this.stateStore.zoneNames[this.zoneIndex];return this.tvList.filter(e=>e.zone===t)}},methods:{getCurrentInput(t){const e=this.stateStore.txCount+t-1;if(this.stateStore.status.PortVlanMembership&&this.stateStore.status.PortVlanMembership[e]){const n=this.stateStore.status.PortVlanMembership[e];if(this.stateStore.inputNames&&this.stateStore.inputNames[n-2])return this.stateStore.inputNames[n-2]}},selectDisplay(t){this.stateStore.selectedDisplay={rxId:t.rxId,name:t.name},this.$router.push({name:"videoinputs"})},zoneTitleClicked(){this.stateStore.selectedDisplay={rxId:"rxS_in_a_zone",name:this.zoneName},this.$router.push({name:"videoinputs"})}}},_={class:"zone-page"},z={class:"zone-title"},x={class:"zone-content"},S={class:"tv-grid"},f=["onClick"],I={class:"button-content"},v={class:"port-number"},N={class:"tv-name"},g={class:"port-vlan"};function k(t,e,n,l,y,a){return d(),i("div",_,[s("div",z,[s("button",{class:"zone-title-btn",onClick:e[0]||(e[0]=(...o)=>a.zoneTitleClicked&&a.zoneTitleClicked(...o))},r(a.zoneName),1)]),s("div",x,[s("div",S,[(d(!0),i(h,null,u(a.filteredTvs,o=>(d(),i("button",{key:o.rxId,class:"tv-button",onClick:C=>a.selectDisplay(o)},[s("div",I,[s("span",v,"P"+r(l.stateStore.txCount+o.rxId),1),s("span",N,r(o.name),1),s("span",g,r(a.getCurrentInput(o.rxId)),1)])],8,f))),128))])])])}const T=c(p,[["render",k],["__scopeId","data-v-8709960c"]]);export{T as default};
