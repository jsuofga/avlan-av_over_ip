import{_ as k,c as u,d as l,g as b,t as n,b as a,f as r,w as i,r as y,F as _,e as v,n as d,a as z,u as A,o as c}from"./index-B2Dx3T8G.js";const x={name:"Dashboard",setup(){return{stateStore:A()}},data(){return{completion:"0%",completionValue:0,showSaveButton:!0,onOff:!0,SG350_52p:!1,cbs250_350_8p:!1,cbs250_350_16p:!1,cbs250_350_24p:!1,cbs250_350_48p:!1,timer:null}},computed:{portS:function(){let e=[];console.log("portS: model =",this.stateStore.status.model);const t=this.stateStore.status.model;return t!=null&&t.includes("SG350-52")?e=[...Array(48).keys()]:t!=null&&t.includes("SG350-28")?e=[...Array(24).keys()]:t!=null&&t.includes("CBS250-48")||t!=null&&t.includes("CBS350-48")||t!=null&&t.includes("C1200-48")||t!=null&&t.includes("C1300-48")?e=[1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48]:t!=null&&t.includes("CBS250-24")||t!=null&&t.includes("CBS350-24")||t!=null&&t.includes("C1200-24")||t!=null&&t.includes("C1300-24")?e=[1,3,5,7,9,11,13,15,17,19,21,23,2,4,6,8,10,12,14,16,18,20,22,24]:t!=null&&t.includes("CBS250-16")||t!=null&&t.includes("CBS350-16")||t!=null&&t.includes("C1200-16")||t!=null&&t.includes("C1300-16")?e=[1,3,5,7,9,11,13,15,2,4,6,8,10,12,14,16]:(t!=null&&t.includes("CBS250-8")||t!=null&&t.includes("CBS350-8")||t!=null&&t.includes("C1200-8")||t!=null&&t.includes("C1300-8"))&&(e=[1,2,3,4,5,6,7,8]),e},isSG350:function(){const e=this.stateStore.status.model;return e!=null&&e.includes("SG350-52")?(this.SG350_52p=!0,!0):e!=null&&e.includes("SG350-28")?(this.SG350_52p=!1,!0):e!=null&&e.includes("CBS250-48")||e!=null&&e.includes("CBS350-48")||e!=null&&e.includes("C1200-48")||e!=null&&e.includes("C1300-48")?(this.cbs250_350_48p=!0,!1):e!=null&&e.includes("CBS250-24")||e!=null&&e.includes("CBS350-24")||e!=null&&e.includes("C1200-24")||e!=null&&e.includes("C1300-24")?(this.cbs250_350_24p=!0,!1):e!=null&&e.includes("CBS250-16")||e!=null&&e.includes("CBS350-16")||e!=null&&e.includes("C1200-16")||e!=null&&e.includes("C1300-16")?(this.cbs250_350_16p=!0,!1):((e!=null&&e.includes("CBS250-8")||e!=null&&e.includes("CBS350-8")||e!=null&&e.includes("C1200-8")||e!=null&&e.includes("C1300-8"))&&(this.cbs250_350_8p=!0),!1)},txCount:function(){let e=0;return this.stateStore.status.PortVlanMembership&&[...new Set(this.stateStore.status.PortVlanMembership)].length==2?e=0:this.stateStore.status.PortVlanMembership&&(e=[...new Set(this.stateStore.status.PortVlanMembership)].length-1),e},rxCount:function(){let e=0;const t=this.stateStore.status.model;return t!=null&&t.includes("SG350-28")||t!=null&&t.includes("SG350-52")?e=this.portS.length-this.txCount-(this.stateStore.status.vlan1Count-4):t!=null&&t.includes("CBS250-8")||t!=null&&t.includes("CBS350-8")||t!=null&&t.includes("C1200-8")||t!=null&&t.includes("C1300-8")?e=this.portS.length-this.txCount-(this.stateStore.status.vlan1Count-2):t!=null&&t.includes("CBS250-16")||t!=null&&t.includes("CBS350-16")||t!=null&&t.includes("C1200-16")||t!=null&&t.includes("C1300-16")?e=this.portS.length-this.txCount-(this.stateStore.status.vlan1Count-2):t!=null&&t.includes("CBS250-24")||t!=null&&t.includes("CBS350-24")||t!=null&&t.includes("C1200-24")||t!=null&&t.includes("C1300-24")?e=this.portS.length-this.txCount-(this.stateStore.status.vlan1Count-4):(t!=null&&t.includes("CBS250-48")||t!=null&&t.includes("CBS350-48")||t!=null&&t.includes("C1200-48")||t!=null&&t.includes("C1300-48"))&&(e=this.portS.length-this.txCount-(this.stateStore.status.vlan1Count-4)),e},portsColor:function(){let e=[];return!this.stateStore.status.PortVlanMembership||this.stateStore.status.PortVlanMembership.length===0||(this.txCount!==0&&this.txCount!==""?this.stateStore.status.PortVlanMembership.forEach((t,g)=>{g<=this.txCount-1?t==1?e.push("white"):e.push("#2196f3"):t==1?e.push("white"):e.push("orange")}):this.stateStore.status.PortVlanMembership.forEach(t=>{t==1?e.push("white"):e.push("orange")})),e},portsActive:function(){let e=[];return!this.stateStore.status.PortOperationalStatus||this.stateStore.status.PortOperationalStatus.length===0||this.stateStore.status.PortOperationalStatus.forEach(t=>{t==1?e.push(1):e.push(.3)}),e}},methods:{async save(){const e=location.hostname;let t={model:"",ip:"",TXports:"",RXports:""};t.model=this.stateStore.status.model,t.ip=this.stateStore.status.SwitchIPAddress,t.TXports=this.txCount,t.RXports=this.rxCount;try{await fetch(`http://${e}:3000/write/UserSwitchConfig/${JSON.stringify(t)}`),this.$router.push({name:"home"})}catch(g){console.log(g)}},cancel(){this.$router.push({name:"home"})}},created(){},mounted(){const e=location.hostname;fetch(`http://${e}:1880/clearVariablesNodeRed`).then(()=>{}).catch(g=>console.log(g));let t=0;this.timer=setInterval(()=>{t++,this.completion=`${t}%`,this.completionValue=t,t==100&&(clearInterval(this.timer),this.stateStore.status.model!==""?this.onOff=!1:(alert("Switch not detected. Please check"),this.showSaveButton=!1))},600)},beforeUnmount(){this.timer&&clearInterval(this.timer)}},B={class:"dashboard"},P={id:"vital-stat",class:"grid-container"},w={class:"grid-item model-display-text"},V={class:"grid-item"},G={class:"grid-item"},F={class:"grid-item"},M={class:"grid-item"},E={class:"grid-item"},I={class:"grid-item"},N={class:"grid-item"},O={class:"grid-item"},R={class:"grid-item"},T={class:"grid-item"},U={class:"grid-item"},L={key:0,class:"sg350"},X={key:0,class:"port1-48"},D={key:1,class:"port1-24"},J={class:"port-combo-sfp"},W={class:"grid-item"},j={class:"grid-item"},q={class:"grid-item"},H={class:"grid-item"},K={class:"grid-item"},Q={class:"grid-item"},Y={key:1,class:"cbs250_350"},Z={key:0,class:"cbs_port1-48"},$={key:1,class:"cbs_port1-24"},tt={key:2,class:"cbs_port1-16"},st={key:3,class:"cbs_port1-8"},et={key:4,class:"cbs_250_350-8p-sfp"},rt={class:"grid-item cbs-black"},lt={class:"grid-item cbs-black"},it={class:"grid-item cbs-black"},at={class:"grid-item cbs-black"},ot={key:5,class:"cbs_250_350-16p-sfp"},nt={class:"grid-item hidden"},ct={class:"grid-item hidden"},dt={class:"grid-item cbs-black"},ut={class:"grid-item cbs-black"},St={key:6,class:"cbs_250_350-24p-sfp"},pt={class:"grid-item hidden"},ht={class:"grid-item hidden"},ft={class:"grid-item hidden"},gt={class:"grid-item hidden"},_t={class:"grid-item cbs-black"},vt={class:"grid-item cbs-black"},yt={class:"grid-item cbs-black"},Ct={class:"grid-item cbs-black"},bt={key:7,class:"cbs_250_350-48p-sfp"},mt={class:"grid-item cbs-black"},kt={class:"grid-item cbs-black"},zt={class:"grid-item cbs-black"},At={class:"grid-item cbs-black"},xt={id:"progress-container"},Bt={class:"progressFeedback"};function Pt(e,t,g,f,h,s){const o=y("v-icon"),m=y("v-progress-linear"),C=y("v-btn");return c(),u("div",B,[l("div",P,[l("div",w," Model : "+n(f.stateStore.status.model),1),l("div",V," IP : "+n(f.stateStore.status.SwitchIPAddress),1),l("div",G," Temperature : "+n(f.stateStore.status.Temperature)+" â„ƒ",1),l("div",F,"Power Supply : "+n(f.stateStore.status.PS1Stat),1),l("div",M," PoE : "+n(f.stateStore.status.PoE)+" Watts",1),l("div",E," PoE Usage : "+n(f.stateStore.status.PoE_Percentage)+" %",1),l("div",I,[l("span",null,[a(o,{size:"small"},{default:i(()=>[...t[0]||(t[0]=[r("mdi-fan",-1)])]),_:1}),r("1 : "+n(f.stateStore.status.Fan1Stat),1)])]),l("div",N,[l("span",null,[a(o,{size:"small"},{default:i(()=>[...t[1]||(t[1]=[r("mdi-fan",-1)])]),_:1}),r("2 : "+n(f.stateStore.status.Fan2Stat),1)])]),l("div",O,[l("span",null,[a(o,{size:"small"},{default:i(()=>[...t[2]||(t[2]=[r("mdi-fan",-1)])]),_:1}),r("3 : "+n(f.stateStore.status.Fan3Stat),1)])]),l("div",R,[l("span",null,[a(o,{size:"small",color:"blue"},{default:i(()=>[...t[3]||(t[3]=[r("mdi-inbox",-1)])]),_:1})]),r("Transmitters : "+n(s.txCount),1)]),l("div",T,[l("span",null,[a(o,{size:"small",color:"orange"},{default:i(()=>[...t[4]||(t[4]=[r("mdi-inbox",-1)])]),_:1})]),r("Receivers : "+n(s.rxCount),1)]),l("div",U,[l("span",null,[a(o,{size:"small",color:"white"},{default:i(()=>[...t[5]||(t[5]=[r("mdi-inbox",-1)])]),_:1})]),t[6]||(t[6]=r("LAN",-1))])]),s.isSG350?(c(),u("div",L,[h.SG350_52p?(c(),u("div",X,[(c(!0),u(_,null,v(s.portS,(S,p)=>(c(),u("div",{class:"grid-item",key:p},[a(o,{size:"small",style:d({color:s.portsColor[p],opacity:s.portsActive[p]})},{default:i(()=>[...t[7]||(t[7]=[r("mdi-inbox",-1)])]),_:1},8,["style"]),r(n(S+1),1)]))),128))])):(c(),u("div",D,[(c(!0),u(_,null,v(s.portS,(S,p)=>(c(),u("div",{class:"grid-item",key:p},[a(o,{size:"small",style:d({color:s.portsColor[p],opacity:s.portsActive[p]})},{default:i(()=>[...t[8]||(t[8]=[r("mdi-inbox",-1)])]),_:1},8,["style"]),r(n(S+1),1)]))),128))])),l("div",J,[l("div",W,[a(o,{size:"small",style:d({color:s.portsColor[s.portS.length],opacity:s.portsActive[s.portS.length]})},{default:i(()=>[...t[9]||(t[9]=[r("mdi-inbox",-1)])]),_:1},8,["style"]),r(n(s.portS.length+1),1)]),l("div",j,[a(o,{size:"small",style:d({color:s.portsColor[s.portS.length],opacity:s.portsActive[s.portS.length]})},{default:i(()=>[...t[10]||(t[10]=[r("mdi-crop-free",-1)])]),_:1},8,["style"]),r(n(s.portS.length+1)+"b",1)]),l("div",q,[a(o,{size:"small",style:d({color:s.portsColor[s.portS.length+2],opacity:s.portsActive[s.portS.length+2]})},{default:i(()=>[...t[11]||(t[11]=[r("mdi-crop-free",-1)])]),_:1},8,["style"]),r(n(s.portS.length+3),1)]),l("div",H,[a(o,{size:"small",style:d({color:s.portsColor[s.portS.length+1],opacity:s.portsActive[s.portS.length+1]})},{default:i(()=>[...t[12]||(t[12]=[r("mdi-inbox",-1)])]),_:1},8,["style"]),r(n(s.portS.length+2),1)]),l("div",K,[a(o,{size:"small",style:d({color:s.portsColor[s.portS.length+1],opacity:s.portsActive[s.portS.length+1]})},{default:i(()=>[...t[13]||(t[13]=[r("mdi-crop-free",-1)])]),_:1},8,["style"]),r(n(s.portS.length+2)+"b",1)]),l("div",Q,[a(o,{size:"small",style:d({color:s.portsColor[s.portS.length+3],opacity:s.portsActive[s.portS.length+3]})},{default:i(()=>[...t[14]||(t[14]=[r("mdi-crop-free",-1)])]),_:1},8,["style"]),r(n(s.portS.length+4),1)])])])):(c(),u("div",Y,[h.cbs250_350_48p?(c(),u("div",Z,[(c(!0),u(_,null,v(s.portS,(S,p)=>(c(),u("div",{class:"grid-item cbs-black",key:p},[a(o,{size:"small",style:d({color:s.portsColor[S-1],opacity:s.portsActive[S-1]})},{default:i(()=>[...t[15]||(t[15]=[r("mdi-inbox",-1)])]),_:1},8,["style"]),r(n(S),1)]))),128))])):h.cbs250_350_24p?(c(),u("div",$,[(c(!0),u(_,null,v(s.portS,(S,p)=>(c(),u("div",{class:"grid-item cbs-black",key:p},[a(o,{size:"small",style:d({color:s.portsColor[S-1],opacity:s.portsActive[S-1]})},{default:i(()=>[...t[16]||(t[16]=[r("mdi-inbox",-1)])]),_:1},8,["style"]),r(n(S),1)]))),128))])):h.cbs250_350_16p?(c(),u("div",tt,[(c(!0),u(_,null,v(s.portS,(S,p)=>(c(),u("div",{class:"grid-item cbs-black",key:p},[a(o,{size:"small",style:d({color:s.portsColor[S-1],opacity:s.portsActive[S-1]})},{default:i(()=>[...t[17]||(t[17]=[r("mdi-inbox",-1)])]),_:1},8,["style"]),r(n(S),1)]))),128))])):h.cbs250_350_8p?(c(),u("div",st,[(c(!0),u(_,null,v(s.portS,(S,p)=>(c(),u("div",{class:"grid-item cbs-black",key:p},[a(o,{size:"small",style:d({color:s.portsColor[S-1],opacity:s.portsActive[S-1]})},{default:i(()=>[...t[18]||(t[18]=[r("mdi-inbox",-1)])]),_:1},8,["style"]),r(n(S),1)]))),128))])):z("",!0),h.cbs250_350_8p?(c(),u("div",et,[l("div",rt,[a(o,{size:"small",style:d({color:s.portsColor[s.portS.length+1],opacity:s.portsActive[s.portS.length+1]})},{default:i(()=>[...t[19]||(t[19]=[r("mdi-inbox",-1)])]),_:1},8,["style"]),r(n(s.portS.length+1),1)]),l("div",lt,[a(o,{size:"small",style:d({color:s.portsColor[s.portS.length+2],opacity:s.portsActive[s.portS.length+2]})},{default:i(()=>[...t[20]||(t[20]=[r("mdi-inbox",-1)])]),_:1},8,["style"]),r(n(s.portS.length+2),1)]),l("div",it,[a(o,{size:"small",style:d({color:s.portsColor[s.portS.length+1],opacity:s.portsActive[s.portS.length+1]})},{default:i(()=>[...t[21]||(t[21]=[r("mdi-crop-free",-1)])]),_:1},8,["style"]),r(n(s.portS.length+1),1)]),l("div",at,[a(o,{size:"small",style:d({color:s.portsColor[s.portS.length+2],opacity:s.portsActive[s.portS.length+2]})},{default:i(()=>[...t[22]||(t[22]=[r("mdi-crop-free",-1)])]),_:1},8,["style"]),r(n(s.portS.length+2),1)])])):h.cbs250_350_16p?(c(),u("div",ot,[l("div",nt,[a(o,{size:"small"},{default:i(()=>[...t[23]||(t[23]=[r("mdi-crop-free",-1)])]),_:1}),r(n(s.portS.length+1),1)]),l("div",ct,[a(o,{size:"small"},{default:i(()=>[...t[24]||(t[24]=[r("mdi-crop-free",-1)])]),_:1}),r(n(s.portS.length+2),1)]),l("div",dt,[a(o,{size:"small",style:d({color:s.portsColor[s.portS.length],opacity:s.portsActive[s.portS.length]})},{default:i(()=>[...t[25]||(t[25]=[r("mdi-crop-free",-1)])]),_:1},8,["style"]),r(n(s.portS.length+1),1)]),l("div",ut,[a(o,{size:"small",style:d({color:s.portsColor[s.portS.length+1],opacity:s.portsActive[s.portS.length+1]})},{default:i(()=>[...t[26]||(t[26]=[r("mdi-crop-free",-1)])]),_:1},8,["style"]),r(n(s.portS.length+2),1)])])):h.cbs250_350_24p?(c(),u("div",St,[l("div",pt,[a(o,{size:"small"},{default:i(()=>[...t[27]||(t[27]=[r("mdi-crop-free",-1)])]),_:1}),r(n(s.portS.length+1),1)]),l("div",ht,[a(o,{size:"small"},{default:i(()=>[...t[28]||(t[28]=[r("mdi-crop-free",-1)])]),_:1}),r(n(s.portS.length+2),1)]),l("div",ft,[a(o,{size:"small"},{default:i(()=>[...t[29]||(t[29]=[r("mdi-crop-free",-1)])]),_:1}),r(n(s.portS.length+3),1)]),l("div",gt,[a(o,{size:"small"},{default:i(()=>[...t[30]||(t[30]=[r("mdi-crop-free",-1)])]),_:1}),r(n(s.portS.length+4),1)]),l("div",_t,[a(o,{size:"small",style:d({color:s.portsColor[s.portS.length],opacity:s.portsActive[s.portS.length]})},{default:i(()=>[...t[31]||(t[31]=[r("mdi-crop-free",-1)])]),_:1},8,["style"]),r(n(s.portS.length+1),1)]),l("div",vt,[a(o,{size:"small",style:d({color:s.portsColor[s.portS.length+1],opacity:s.portsActive[s.portS.length+1]})},{default:i(()=>[...t[32]||(t[32]=[r("mdi-crop-free",-1)])]),_:1},8,["style"]),r(n(s.portS.length+2),1)]),l("div",yt,[a(o,{size:"small",style:d({color:s.portsColor[s.portS.length+2],opacity:s.portsActive[s.portS.length+2]})},{default:i(()=>[...t[33]||(t[33]=[r("mdi-crop-free",-1)])]),_:1},8,["style"]),r(n(s.portS.length+3),1)]),l("div",Ct,[a(o,{size:"small",style:d({color:s.portsColor[s.portS.length+3],opacity:s.portsActive[s.portS.length+3]})},{default:i(()=>[...t[34]||(t[34]=[r("mdi-crop-free",-1)])]),_:1},8,["style"]),r(n(s.portS.length+4),1)])])):(c(),u("div",bt,[l("div",mt,[a(o,{size:"small",style:d({color:s.portsColor[s.portS.length],opacity:s.portsActive[s.portS.length]})},{default:i(()=>[...t[35]||(t[35]=[r("mdi-crop-free",-1)])]),_:1},8,["style"]),t[36]||(t[36]=r("SF-49",-1))]),l("div",kt,[a(o,{size:"small",style:d({color:s.portsColor[s.portS.length+2],opacity:s.portsActive[s.portS.length+2]})},{default:i(()=>[...t[37]||(t[37]=[r("mdi-crop-free",-1)])]),_:1},8,["style"]),t[38]||(t[38]=r("SF-51",-1))]),l("div",zt,[a(o,{size:"small",style:d({color:s.portsColor[s.portS.length+1],opacity:s.portsActive[s.portS.length+1]})},{default:i(()=>[...t[39]||(t[39]=[r("mdi-crop-free",-1)])]),_:1},8,["style"]),t[40]||(t[40]=r("SF-50",-1))]),l("div",At,[a(o,{size:"small",style:d({color:s.portsColor[s.portS.length+3],opacity:s.portsActive[s.portS.length+3]})},{default:i(()=>[...t[41]||(t[41]=[r("mdi-crop-free",-1)])]),_:1},8,["style"]),t[42]||(t[42]=r("SF-52",-1))])]))])),l("div",xt,[a(m,{"model-value":h.completionValue,color:"blue",height:"25"},null,8,["model-value"]),l("div",Bt,"Reading switch settings "+n(h.completion),1)]),h.showSaveButton?(c(),b(C,{key:2,onClick:s.save,color:"blue",size:"large",disabled:h.onOff},{default:i(()=>[a(o,{start:""},{default:i(()=>[...t[43]||(t[43]=[r("mdi-content-save",-1)])]),_:1}),t[44]||(t[44]=r(" Save ",-1))]),_:1},8,["onClick","disabled"])):(c(),b(C,{key:3,onClick:s.cancel,color:"red",size:"large"},{default:i(()=>[a(o,{start:""},{default:i(()=>[...t[45]||(t[45]=[r("mdi-cancel",-1)])]),_:1}),t[46]||(t[46]=r(" Cancel ",-1))]),_:1},8,["onClick"]))])}const Vt=k(x,[["render",Pt],["__scopeId","data-v-be12b3b8"]]);export{Vt as default};
