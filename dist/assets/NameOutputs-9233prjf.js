import{_ as E,c as _,b as t,w as o,r as d,u as U,o as c,f as u,d as i,g as f,a as T,F as I,e as b,t as p}from"./index-B2Dx3T8G.js";const A={name:"NameOutputs",setup(){return{stateStore:U()}},async created(){await this.stateStore.get_UserSwitchConfig(),await this.stateStore.get_tvNames()},data(){return{tvName:"",selectedZoneIndex:0,rxNameError:"",editDialog:!1,editIndex:0,editZoneIndex:0}},methods:{add(){this.rxNameError="";const s=this.tvName.trim();if(!s){this.rxNameError="TV/Display name cannot be empty.";return}if(this.stateStore.tvNames.map(h=>h.toLowerCase()).includes(s.toLowerCase())){this.rxNameError=`A TV/Display named "${s}" already exists.`,this.tvName="";return}if(this.selectedZoneIndex===null||this.selectedZoneIndex===void 0){this.rxNameError="You must select a Zone for the new TV/Display.";return}const e=this.stateStore.rxCount;this.stateStore.tvNames.length<e?(this.stateStore.tvNames.push(s),this.stateStore.tvZones.push(this.stateStore.zoneNames[this.selectedZoneIndex]),this.stateStore.tvZonesId.push(this.selectedZoneIndex+1),this.tvName=""):(this.rxNameError=`Exceeded maximum of ${e} displays.`,this.tvName="")},openEditDialog(s){this.editIndex=s;const e=this.stateStore.tvZones[s];e==="Disabled"?this.editZoneIndex=-1:this.editZoneIndex=this.stateStore.zoneNames.indexOf(e),this.editDialog=!0},saveEdit(){this.editZoneIndex===-1?(this.stateStore.tvZones[this.editIndex]="Disabled",this.stateStore.tvZonesId[this.editIndex]=0):(this.stateStore.tvZones[this.editIndex]=this.stateStore.zoneNames[this.editZoneIndex],this.stateStore.tvZonesId[this.editIndex]=this.editZoneIndex+1),this.editDialog=!1},trash(s){this.stateStore.tvNames.splice(s,1),this.stateStore.tvZones.splice(s,1),this.stateStore.tvZonesId.splice(s,1)},async save(s){s.preventDefault();const e=location.hostname;let h=[];this.stateStore.tvNames.forEach((n,a)=>{let m={rxId:a+1,name:n,zoneId:this.stateStore.tvZonesId[a],zone:this.stateStore.tvZones[a]};h.push(m)});try{await fetch(`http://${e}:3000/write/UserTvNames/${JSON.stringify(h)}`),this.$router.push({name:"home"})}catch(n){console.log(n)}},cancel(s){s.preventDefault(),this.$router.push({name:"home"})}}},O={class:"name-outputs"},B={class:"mb-6 zone-selection-container"},L={class:"input-section mb-4"},j={class:"displays-grid mt-4"},F={class:"card-header"},J={class:"port-number"},K={class:"zone-chip-container"},P={class:"trash-container"},R={class:"edit-container"},Y={class:"display-info"},q={class:"text-body-2 font-weight-medium mb-1"};function G(s,e,h,n,a,m){const Z=d("v-card-title"),x=d("v-radio"),y=d("v-radio-group"),v=d("v-btn"),g=d("v-text-field"),k=d("v-alert"),C=d("v-chip"),N=d("v-card-text"),S=d("v-card"),V=d("v-icon"),w=d("v-card-actions"),D=d("v-dialog");return c(),_("div",O,[t(S,{class:"mx-auto pa-6",width:"100%","max-width":"1400px",color:"white"},{default:o(()=>[t(Z,{class:"text-h5 text-center"},{default:o(()=>[...e[6]||(e[6]=[u("Add Displays",-1)])]),_:1}),t(N,null,{default:o(()=>[i("div",B,[e[7]||(e[7]=i("p",{class:"text-subtitle-1 text-center mb-3"},"Assign zone to display",-1)),t(y,{modelValue:a.selectedZoneIndex,"onUpdate:modelValue":e[0]||(e[0]=l=>a.selectedZoneIndex=l),inline:"",class:"zone-radio-group"},{default:o(()=>[(c(!0),_(I,null,b(n.stateStore.zoneNames,(l,r)=>(c(),f(x,{key:r,label:l,value:r,color:"blue"},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),i("div",L,[t(g,{modelValue:a.tvName,"onUpdate:modelValue":e[2]||(e[2]=l=>a.tvName=l),label:"Enter Name of TV to add",placeholder:"Enter Name of TV to add",maxlength:"10",variant:"outlined",density:"comfortable"},{"append-inner":o(()=>[t(v,{color:"blue",onClick:e[1]||(e[1]=l=>m.add()),size:"small","prepend-icon":"mdi-plus"},{default:o(()=>[...e[8]||(e[8]=[u(" Add Display ",-1)])]),_:1})]),_:1},8,["modelValue"])]),a.rxNameError?(c(),f(k,{key:0,type:"error",density:"compact",class:"mb-4"},{default:o(()=>[u(p(a.rxNameError),1)]),_:1})):T("",!0),i("div",j,[(c(!0),_(I,null,b(n.stateStore.tvNames,(l,r)=>(c(),f(S,{key:r,class:"display-item",variant:"outlined",color:"white"},{default:o(()=>[t(N,{class:"pa-3"},{default:o(()=>[i("div",F,[i("div",J," Port "+p(n.stateStore.txCount+r+1),1),i("div",K,[t(C,{size:"x-small",color:n.stateStore.tvZonesId[r]===0?"red":"grey-darken-4"},{default:o(()=>[u(p(n.stateStore.tvZonesId[r]===0?"Disabled":n.stateStore.zoneNames[n.stateStore.tvZonesId[r]-1]||"Unknown"),1)]),_:2},1032,["color"])])]),i("div",P,[t(v,{icon:"mdi-delete",size:"x-small",color:"red",variant:"text",onClick:z=>m.trash(r)},null,8,["onClick"])]),i("div",R,[t(v,{icon:"mdi-pencil",size:"x-small",color:"blue",variant:"text",onClick:z=>m.openEditDialog(r)},null,8,["onClick"])]),i("div",Y,[i("p",q,p(n.stateStore.tvNames[r]),1)])]),_:2},1024)]),_:2},1024))),128))])]),_:1}),t(w,{class:"justify-center"},{default:o(()=>[t(v,{color:"red",onClick:m.cancel,size:"large",variant:"flat"},{default:o(()=>[t(V,{start:"",color:"white"},{default:o(()=>[...e[9]||(e[9]=[u("mdi-cancel",-1)])]),_:1}),e[10]||(e[10]=i("span",{style:{color:"white"}},"Cancel",-1))]),_:1},8,["onClick"]),t(v,{color:"blue",onClick:m.save,size:"large",variant:"flat"},{default:o(()=>[t(V,{start:"",color:"white"},{default:o(()=>[...e[11]||(e[11]=[u("mdi-content-save",-1)])]),_:1}),e[12]||(e[12]=i("span",{style:{color:"white"}},"Update/Save",-1))]),_:1},8,["onClick"])]),_:1})]),_:1}),t(D,{modelValue:a.editDialog,"onUpdate:modelValue":e[5]||(e[5]=l=>a.editDialog=l),"max-width":"500px"},{default:o(()=>[t(S,null,{default:o(()=>[t(Z,{class:"text-h6 text-center"},{default:o(()=>[u(" Edit TV "+p(a.editIndex+1),1)]),_:1}),t(N,null,{default:o(()=>[t(g,{modelValue:n.stateStore.tvNames[a.editIndex],"onUpdate:modelValue":e[3]||(e[3]=l=>n.stateStore.tvNames[a.editIndex]=l),label:"TV Name",maxlength:"10",variant:"outlined",class:"mb-4"},null,8,["modelValue"]),e[13]||(e[13]=i("p",{class:"text-subtitle-2 font-weight-bold mb-2"},"Select Zone:",-1)),t(y,{modelValue:a.editZoneIndex,"onUpdate:modelValue":e[4]||(e[4]=l=>a.editZoneIndex=l),inline:""},{default:o(()=>[(c(!0),_(I,null,b(n.stateStore.zoneNames,(l,r)=>(c(),f(x,{key:r,label:l,value:r,color:"blue"},null,8,["label","value"]))),128)),t(x,{label:"Disable",value:-1,color:"red"})]),_:1},8,["modelValue"])]),_:1}),t(w,{class:"justify-center"},{default:o(()=>[t(v,{color:"blue",onClick:m.saveEdit,variant:"flat"},{default:o(()=>[...e[14]||(e[14]=[i("span",{style:{color:"white"}},"OK",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const M=E(A,[["render",G],["__scopeId","data-v-47ffdf20"]]);export{M as default};
